<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Kafka</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" ></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://mohan-chinnappan-n.github.io/css/navbar-blue.css" />
    <script src="https://mohan-chinnappan-n.github.io/sfdc/gs/js/split.js"></script>
    <link rel="stylesheet" href="https://mohan-chinnappan-n.github.io/sfdc/gs/css/split.css" />

    <link rel="stylesheet" href="https://mohan-chinnappan-n2.github.io/2019/dx/css/slides.css?v=17" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/css/select2.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/select2.js"></script>

  


<style>
    @keyframes demo {
      from {background-color: #99ffcc;color:black;  transform: rotate(-1deg)}
      to {background-color: ##337ab7;color:white;  transform: rotate(+1deg)}
  }

  .demo {
      animation-name: demo;
      animation-duration: 10s;
      animation:demo 5s linear 2s infinite alternate;
  }
  .center {
    text-align: center;
  }
  img {
    border-radius: 10px;
    border: 1px solid;
  }
  </style>
     
  
  </head>

  <body>
    <nav
      class="navbar navbar-default"
      role="navigation"
      style="margin-bottom:0px;"
    >
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button
          type="button"
          class="navbar-toggle"
          data-toggle="collapse"
          data-target="#bs-example-navbar-collapse-1"
        >
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="javascript:void(0)">Kafka</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#/home">Home</a></li>
          <li>
              <a href="#" id='help' data-toggle="tooltip" title="Use Space Bar to move the slides">Help</a>

          </li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <select style="display:none2;margin-top:10px;" id='outline'> </select>
          
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </nav>

    <div class="split split-horizontal" id="menu">
      <span style="display:none">
        <button class="btn btn-success" onclick="prevSlide()">Prev</button>
        <button class="btn btn-success" onclick="nextSlide()">Next</button>
      </span>
      <select style="display:none;margin-top:10px;" id='outline2'> </select>
      <ol class="list-group" id='mitems'> </ol>


    </div>
    <div class="split split-horizontal" id="content">


        <div class="slide" id='What is Kafka?'>
           <h3 class='center'>What is Kafka?</h3>
            <div class="row">
              <div class="col-lg-0"></div>
              <div class="col-lg-12">
                <ul class="list-group largelist">
                  <li class="list-group-item">
                    <img src="https://mohan-chinnappan-n.github.io/sfdc/img/kafka/kafka-logo.jpg" height="100" alt="">
                    <img src="https://mohan-chinnappan-n.github.io/sfdc/img/kafka/kafka-arch-2.png" height="300" alt="">
                  </li>
                  <li class="list-group-item">
                    High Throughput, Low Latency, Distributed Commit Log
                   </li>
                   <li class='list-group-item'>
                     Messaging System with { Brokers, Topics, Publishers, Subscribers }
                   </li>
                   <li class='list-group-item'>
                    </li>

                </ul>
              </div>
            </div>
        </div>


        <div class="slide" id='Typical Install'>
            <h3 class='center'>Typical Install</h3>
             <div class="row">
               <div class="col-lg-0"></div>
               <div class="col-lg-12">
                 <ul class="list-group largelist">
                   <li class="list-group-item">
                      Having: 10 Brokers, 700 M Publishes from 100 Publishers, 50 Subscribers
                   </li>
                   <li class="list-group-item">
                       Used for: Clickstream, Synching multiple sub-systems, Application logs...
                   </li>
                   <li class="list-group-item">
                       Data size: 2+ TB
                   </li>
                 </ul>
               </div>
             </div>
         </div>

        <div class="slide" id='Best of Pub-Sub and  Queuing'>
            <h3 class='center'>Best of Pub-Sub and  Queuing</h3>
             <div class="row">
               <div class="col-lg-0"></div>
               <div class="col-lg-12">
                 <ul class="list-group largelist">
                   <li class="list-group-item">
                     <img src="https://mohan-chinnappan-n.github.io/sfdc/img/kafka/kafka-arch-1.png" height="250" alt="">
                     <img src="https://mohan-chinnappan-n.github.io/sfdc/img/kafka/log_anatomy.png" height="250" alt="">
 
                     <hr/>
                     <a href="https://mohan-chinnappan-n.github.io/sfdc/kafka.html#/1" 
                     class='btn btn-info' target="_blank">Strength and Weakness of Queuing and Pub-Sub</a>
                     <br/> As in queuing: consumer group feature allows to divide up processing over a collection of processes : members of the consumer group
                   </li>
                      <li class="list-group-item">
                          As in pub-sub: Kafka broadcasts messages to multiple consumer groups
                      </li>
                      <li class="list-group-item">
                          Parallel consumption to Scale Processing:  with the Partitions
                      </li>
                      <li class="list-group-item">
                        Zookeeper provides the consistent view of the system: 
                          keeps track of status of the Kafka cluster nodes and it also keeps track of Kafka topics, partitions etc.

                      </li>


                     
                 </ul>
               </div>
             </div>
         </div>

         <div class="slide" id='ZooKeeper'>
            <h3 class='center'>ZooKeeper &rarr;	 highly reliable distributed coordination 
              </h3>
             <div class="row">
               <div class="col-lg-0"></div>
               <div class="col-lg-12">
                 <ul class="list-group largelist">
                   <li class="list-group-item">
                     <img src="img/zookeeper-1.png" height="250" alt="">
                     <img src="https://zookeeper.apache.org/images/zookeeper_small.gif" alt="">
                    Centralized service  used to maintain naming and configuration data 
                   </li>
                      <li class="list-group-item">
                          Provides flexible and robust synchronization within distributed systems                      </li>
                      <li class="list-group-item">
                          Allows multiple clients to perform simultaneous reads and writes and acts as a shared configuration service within the system
                      </li>
                      <li class="list-group-item">
                        Provides the consistent view of the system: 
                          keeps track of status of the Kafka cluster nodes and it also keeps track of Kafka topics, partitions etc.

                      </li>
                      

                     
                 </ul>
               </div>
             </div>
         </div>

      





         <div class="slide" id='Controller Role'>
             <h3 class='center'>Controller Role</h3>
             <div class="row">
               <div class="col-lg-0"></div>
               <div class="col-lg-12">
                 <ul class="list-group largelist">
                   <li class="list-group-item">
                     
                     <a href="../viz/seq/seq.html?f=./seqs/Kafka-controller.seq.txt" 
                     class='btn btn-info' target="_blank">Function of the controller</a>
                     <br/> 
                     The controller is one of the most important brokering entity in a Kafka ecosystem responsible:
                      to maintain the <b>leader-follower</b> relationship across all the partitions.

                      <br>
                      Every cluster has one leader node and the rest of the nodes are followers.
                      <img height='220' src="img/leader-follower.png" alt="">
                      <a class='btn btn-warning' href="img/Zab_2011.pdf"> Paper on ZAB</a>


                   </li>
                      <li class="list-group-item">
                          All incoming client requests and state changes are received at first by the leader with 
                          responsibility to replicate it across all its followers (and itself).

                      </li>
                      <li class="list-group-item">
                          All incoming read requests are also <b>load balanced</b> by the leader within itself and its followers.

                      </li>
                      <li class="list-group-item">

                      </li>


                     
                 </ul>
               </div>
             </div>
         </div>

         <div class="slide" id='ZAB'>
            <h3 class='center'>ZAB: Zookeeper Atomic Broadcast Protocol Papers</h3>
             <div class="row">
               <div class="col-lg-0"></div>
               <div class="col-lg-12">
                 <ul class="list-group largelist">
                      <li class="list-group-item">
                          <img src="img/leader-follower.png" height="200" alt=""><br/>
                          Upon leader crashes, nodes execute a recovery protocol  to agree upon a common consistent state before resuming regular operation 
                          and to establish a new leader to broadcast state changes

                          <br/>
                          <a class='btn btn-warning' href="img/zab.totally-ordered-broadcast-protocol.2008.pdf">
                            A simple totally ordered broadcast protocol</a>
                      </li>
                      <li class="list-group-item">
                        <a class='btn btn-warning' href="img/2012-deSouzaMedeiros.pdf">ZooKeeper’s atomic broadcast protocol: Theory and practice</a>

                      </li>

                 </ul>
               </div>
             </div>
         </div>




         <div class="slide" id='How Kakfka Data is stored?'>
            <h3 class='center'>How Kafka Data is Stored?</h3>
             <div class="row">
               <div class="col-lg-0"></div>
               <div class="col-lg-12">
                 <ul class="list-group largelist">
                   <li class="list-group-item">
                     <img src="img/kafka-log-rep-1.png" height="300" alt=""> <br/>
                      Data written to Kafka is written to disk and replicated for <b>fault-tolerance</b>

                    </li>  
                    <li class="list-group-item">
                        Producers to wait on acknowledgement so that a write isn't considered complete until it is fully replicated
                    </li>

                      <li class="list-group-item">
                          Special purpose <b>distributed filesystem</b> dedicated to:<br> { hi-perf, low-latency commit log storage, replication...}
                      </li>
                     
                 </ul>
               </div>
             </div>
         </div>


         

          




  

         













  






    </div>

    <script> Split(["#menu", "#content"], { sizes: [15, 80] }); </script>
     <script src='https://mohan-chinnappan-n2.github.io/2019/dx/js/slides.js?v=17'> </script>
  </body>
</html>
